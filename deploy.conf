# Mailmap Deployment Configuration
# Email classification daemon using local LLM

# =============================================================================
# Global Configuration
# =============================================================================

export APP_NAME="mailmap"
export DOMAIN_NAME="gpu.local"
export REMOTE_HOST="gpu"
export REMOTE_USER="john"

# =============================================================================
# Deployment Modules
# =============================================================================

export DEPLOY_TYPES="binary_service"

# =============================================================================
# Binary Service Configuration
# =============================================================================

export BINARY_SERVICE_USER="john"
export BINARY_SERVICE_GROUP="john"
export BINARY_SERVICE_BINARY_NAME="mailmap"

# Data directory for config, database, and categories
export BINARY_SERVICE_WORK_DIR="/var/lib"
export BINARY_SERVICE_APPEND_APP_NAME="true"
export BINARY_SERVICE_DATA_PATH="/var/lib"

# Daemon command
export BINARY_SERVICE_BINARY_ARGS="daemon"

# Service configuration
export BINARY_SERVICE_RESTART_POLICY="always"
export BINARY_SERVICE_RESTART_SEC="30"

# Security settings
# ProtectSystem=full allows writes to /var (for database)
export BINARY_SERVICE_PROTECT_HOME="true"
export BINARY_SERVICE_PROTECT_SYSTEM="full"

# =============================================================================
# Environment Variables (loaded from /etc/mailmap.env)
# =============================================================================
# Create .env.production with:
#   MAILMAP_IMAP_USERNAME=john@rkroll.com
#   MAILMAP_IMAP_PASSWORD=your-password
#
# This will be deployed to /etc/mailmap.env and loaded by systemd
# =============================================================================
